!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):"object"==typeof exports?exports.StyleSelect=t(require("vue")):e.StyleSelect=t(e.Vue)}("undefined"!=typeof self?self:this,function(e){return function(e){function t(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(1)),i=s(n(2));t.default={createStyleGroup:function(e){function t(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(a(t)||a(n)||!Array.isArray(n))return!1;var i=function(e,t,n){for(var s,r={},i=0;s=e[i];i++)if(!s.disabled&&s.baseUrl===t)for(var o,a=0;o=s.names[a];a++)r[o]=!0;return n.filter(function(e){return!r.hasOwnProperty(e)})}(e,t=l(t),n);if(i.length<1)return!1;var o={baseUrl:t,names:i,supportMinCss:s};return r?e.push(o):e.unshift(o),!0}function n(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments[1],n="",r=0;r<e;r++)n+="â”€";s(n,t)}function s(e,t){var n={names:[e],disabled:!0};t.push(n)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",n=arguments[2];if(a(e)||a(n)||!n)return!1;"*"!==t&&(t=l(t));if(e.length<1)return!1;for(var s,r=!1,i=0;s=e[i];i++)if(!(s.disabled||t!==s.baseUrl&&"*"!==t)){for(var o,u=0;o=s.names[u];u++)if(n===o){s.names.splice(u,1),r=!0,u--;var c=p.state.currentStyle,d=p.state.defaultStyle;d&&d.name===n&&(d=p.state.defaultStyle=null),c&&c.name===n&&p.setStyle(d||null)}s.names.length<1&&(e.splice(i,1),i--)}return r}function a(e){return void 0===e}function l(e){return""===e||"/"===e.slice(-1)?e:e+"/"}var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--please choose--",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"style-select",d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!1;e||(e=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(),f=!0);var p=new r.default({data:{cookie:{expires:7,path:"/"},state:{groupId:e,isTmpGroup:f,cssPrefix:c,hintText:u,supportNoneStyle:d,stylesList:[],currentStyle:null,defaultStyle:null,hasCookieRecord:!1}},computed:{currentStyleName:function(){return this.state.currentStyle?this.state.currentStyle.name:null},cookieName:function(){return this.state.groupId+"-style"},targetHref:function(){var e=this.state.currentStyle;return e?e.baseUrl+e.name+(e.supportMinCss?".min":"")+".css":null},linkId:function(){return this.state.groupId+"-style-link"}},methods:{setCookieOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";this.cookie.expires=e,this.cookie.path=t},setStyle:function(e){this.state.currentStyle=e,this.loadStyle(e),this.state.isTmpGroup||this.storeStyleState(this.cookieName,e)},storeStyleState:function(e,t){i.default.set(e,t,{expires:this.cookie.expires,path:this.cookie.path})},addStyles:function(e,n){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t(this.state.stylesList,e,n,s)},removeStyle:function(e,t){return o(this.state.stylesList,e,t)},setDefaultStyle:function(e,n){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!a(e)&&!a(n)){var r={baseUrl:l(e),name:n,supportMinCss:s};this.state.defaultStyle=r,this.state.hasCookieRecord||this.setStyle(r),t(this.state.stylesList,e,[n],s)}},removeCookie:function(){var e=this.cookieName;i.default.remove(e)},addSeparator:function(e){n(e,this.state.stylesList)},addText:function(e){s(e,this.state.stylesList)},createSelect:function(e){return(new h).$mount(e)},loadStyle:function(e){var t=this.link(this.linkId);t||((t=document.createElement("link")).rel="stylesheet",t.id=this.linkId,document.querySelector("head").appendChild(t)),e?(t.disabled=!1,t.href=this.targetHref):t.disabled=!0},link:function(e){return document.querySelector("#"+e)}},created:function(){if(!this.state.isTmpGroup){var e=this.cookieName,t=i.default.getJSON(e);a(t)||(this.state.hasCookieRecord=!0,this.setStyle(t))}}}),h=r.default.extend({data:function(){return{privateStylesList:[],compareFunction:null,sharedState:p.state}},computed:{stylesList:function(){for(var e=this.privateStylesList.slice(),n=this.sharedState.stylesList.length-1;n>-1;n--){var s=this.sharedState.stylesList[n];s.disabled?e.unshift(s):t(e,s.baseUrl,s.names,s.supportMinCss,!1)}if(this.compareFunction){return this.toOneDimensionStylesList(e).sort(this.compareFunction)}return e},selected:{get:function(){var e=this.sharedState.currentStyle;if(!e)return"";for(var t=0;t<this.stylesList.length;t++){var n=this.stylesList[t];if(n.baseUrl===e.baseUrl)for(var s=0;s<n.names.length;s++){if(n.names[s]===e.name)return t+"-"+s}}return null},set:function(e){if(e){var t=e.split("-");t.length<2||this.onSelected(t[0],t[1])}else""===e&&this.onNoSelected()}},className:function(){var e=this.sharedState.cssPrefix;return(e?e+"-":"")+this.sharedState.groupId}},template:'\n    <select\n            v-model="selected"\n            :name="className"\n            :class="[className, \'style-select\']"\n    >\n      <option value="" :disabled="!sharedState.supportNoneStyle">{{sharedState.hintText}}</option>\n      <template v-for="(styles, stylesIndex) in stylesList">\n        <option\n          v-for="(name, index) in styles.names"\n          :key="stylesIndex+\'-\'+index" \n          :value="stylesIndex+\'-\'+index"\n          :disabled="styles.disabled">\n              {{name}}\n        </option>\n      </template>\n    </select>'});return h.prototype.onSelected=function(e,t){var n=this.stylesList[e],s={baseUrl:n.baseUrl,name:n.names[t],supportMinCss:n.supportMinCss};p.setStyle(s)},h.prototype.onNoSelected=function(){p.setStyle(null)},h.prototype.addStyles=function(e,n){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t(this.privateStylesList,e,n,s)},h.prototype.addSeparator=function(e){n(e,this.privateStylesList)},h.prototype.addText=function(e){s(e,this.privateStylesList)},h.prototype.removeStyle=function(e,t){return o(this.privateStylesList,e,t)},h.prototype.toOneDimensionStylesList=function(e){for(var t,n=[],s=0;t=e[s];s++)if(t.disabled)n.push(t);else for(var r,i=0;r=t.names[i];i++){var o={baseUrl:t.baseUrl,names:[r],supportMinCss:t.supportMinCss};n.push(o)}return n},h.prototype.moveIndex=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.selected;if(null!==t){var n=void 0,s=t?t.split("-"):e?[0,-1]:[this.stylesList.length,0],r=s[0],i=s[1],o=this.stylesList[r];if(e?i++:i--,i<0||i>=o.names.length||this.stylesList[r].disabled)do{e?r++:r--,(o=this.stylesList[r])&&!o.disabled&&o.names&&(i=e?0:o.names.length-1)}while(r>-1&&r<this.stylesList.length&&this.stylesList[r].disabled);n=r>-1&&r<this.stylesList.length?Number(r)+"-"+Number(i):"",this.selected=n}},p}}},function(t,n){t.exports=e},function(e,t,n){var s,r;!function(i){if(void 0===(r="function"==typeof(s=i)?s.call(t,n,t,e):s)||(e.exports=r),!0,e.exports=i(),!!0){var o=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=o,a}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var s in n)t[s]=n[s]}return t}function t(n){function s(t,r,i){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},s.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{o=JSON.stringify(r),/^[\{\[]/.test(o)&&(r=o)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var u in i)i[u]&&(l+="; "+u,!0!==i[u]&&(l+="="+i[u]));return document.cookie=t+"="+r+l}t||(o={});for(var c=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<c.length;f++){var p=c[f].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var y=p[0].replace(d,decodeURIComponent);if(h=n.read?n.read(h,y):n(h,y)||h.replace(d,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===y){o=h;break}t||(o[y]=h)}catch(e){}}return o}}return s.set=s,s.get=function(e){return s.call(s,e)},s.getJSON=function(){return s.apply({json:!0},[].slice.call(arguments))},s.defaults={},s.remove=function(t,n){s(t,"",e(n,{expires:-1}))},s.withConverter=t,s}return t(function(){})})}]).default});